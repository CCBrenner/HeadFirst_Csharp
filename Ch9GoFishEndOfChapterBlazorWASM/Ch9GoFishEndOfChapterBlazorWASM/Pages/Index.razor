@page "/"

<PageTitle>Index</PageTitle>


<div class="container">
    <div class="row">
        <div class="col-5">
            <div class="row">
                <textbox>@gameController.Status</textbox>
                <textbox></textbox>
            </div>
        </div>
        <div class="col-3">
            <div class="row">
                <label>@gameController.HumanPlayer.Name's Cards</label>
                <!--
                <select @bind="gameController.SelectedCard">
                    @for (int i = 0; i < gameController.HumanPlayer.Hand.Count(); i++)
                    {
                        <option value="@i">@gameController.HumanPlayer.Hand.Skip(@i).First()</option>
                    }
                </select>
                -->
            </div>
        </div>
        <div class="col-3">
            <div class="row">
                <label>Opponents</label>
                <select @bind="gameController.SelectedOpponent">  <!-- <=Stopped here, issue with the binding is disabling rendering for this page -->
                <!--
                    @for (int i = 0; i < gameController.Opponents.Count(); i++)
                    {
                        <option value="@i">@gameController.Opponents.Skip(@i).First().Name</option>
                    }
                -->
                </select>
                <button class="btn btn-primary" @onclick="NextRound">
                    Ask Player for Cards
                </button>
            </div>
        </div>

    </div>
</div>
@code
{
    GameController gameController = new GameController("Player 1", 4);

    public void NextRound()
    {
        gameController.NextRound(gameController.SelectedOpponent, gameController.SelectedCard.Value);
    }
}
